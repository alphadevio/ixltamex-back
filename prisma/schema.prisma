generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model users {
  id           Int           @id @default(autoincrement())
  name         String?       @db.VarChar(100)
  email        String?       @db.VarChar(100)
  phone_number String?       @db.VarChar(13)
  password     String?       @db.VarChar(100)
  deleted      Int?
  profile_id   Int           @default(2)
  percentages  percentages[]
  profiles     profiles      @relation(fields: [profile_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "profile_id")

  @@index([id], map: "ix_users_id")
  @@index([profile_id], map: "profile_id_idx")
}

model profiles {
  id    Int     @id @default(autoincrement())
  name  String  @db.VarChar(20)
  users users[]
}

model developments {
  id          Int           @id @unique(map: "id") @default(autoincrement())
  name        String?       @db.VarChar(100)
  location    String?       @db.VarChar(150)
  lots        Int?
  deleted     Int?          @default(0)
  apples      apples[]
  percentages percentages[]
}

model percentages {
  id             Int           @id @unique(map: "id") @default(autoincrement())
  user_id        Int?
  development_id Int?
  percentage     Decimal?      @db.Decimal(10, 0)
  deleted        Int?          @default(0)
  users          users?        @relation(fields: [user_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "percentages_ibfk_1")
  developments   developments? @relation(fields: [development_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "percentages_ibfk_2")

  @@index([development_id], map: "development_id")
  @@index([user_id], map: "user_id")
}

model clients {
  id           Int     @id @unique(map: "id") @default(autoincrement())
  name         String? @db.VarChar(100)
  phone_number String? @db.VarChar(13)
  id_file_name String? @db.VarChar(50)
  deleted      Int?    @default(0)
}

model apples {
  id             Int           @id @unique(map: "id") @default(autoincrement())
  name           String        @db.VarChar(100)
  id_development Int?
  deleted        Int?          @default(0)
  developments   developments? @relation(fields: [id_development], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "apples_ibfk_1")

  @@index([id_development], map: "id_development")
}
